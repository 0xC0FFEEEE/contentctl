{
    "questions": [
        {
            "type": "select",
            "message": "Which product would you like to build?  Note that in almost all cases, you will want to build a SPLUNK_ENTERPRISE_APP",
            "name": "product",
            "choices": ["SPLUNK_ENTERPRISE_APP", "API", "SSA", "all"],
            "default": "SPLUNK_ENTERPRISE_APP"
        },
        {
            "type": "input",
            "message": "Enter a relative path for your new app to be created.  Note that '.' indicates the current directory.",
            "name": "output_path",
            "default": "."
        },
        {
            "type": "input",
            "message": "Enter a relative path for your new app to be built from the source dirtectory you entered above.",
            "name": "build_path",
            "default": "./build"
        },
        {
            "type": "input",
            "message": "Enter a relative path pointing to your donor app.  By default, this uses the escu app skeleton, with modifications.",
            "name": "donor_app_root",
            "default": "./resources"
        },
        {
            "type": "input",
            "message": "Enter a title for your app.  This is a long form, human readable name. For example ES Content Update.",
            "name": "APP_TITLE",
            "default": "My New App"
        },
        {
            "type": "input",
            "message": "Enter the name for your app.  This is a short-form name that will be used internally.  For example, ESCU. Only numbers, letters, -, and _ are allowed.  No spaces, ., or other special characters.",
            "name": "APP_NAME",
            "default": "my_app",
            "jsonschema_validator": {
                "type": "string",
                "pattern": "^[a-zA-Z0-9-_]+$"
            }
        },
        {
            "type": "input",
            "message": "What is the verion of your application?  It's best to use a semantic version string, like 1.2.3",
            "name": "APP_VERSION",
            "default": "1.0.0"
        },
        {
            "type": "input",
            "message": "Enter the app Author Name",
            "name": "APP_AUTHOR_NAME",
            "default": "First Last"
        },
        {
            "type": "input",
            "message": "Enter the App Author Email",
            "name": "APP_AUTHOR_EMAIL",
            "default": "buttercup_the_horse@splunk.com"
        },
        {
            "type": "input",
            "message": "Enter the App Author Company",
            "name": "APP_AUTHOR_COMPANY",
            "default": "Company Name, Inc"
        },
        {
            "type": "input",
            "message": "Enter a description of the app",
            "name": "APP_DESCRIPTION",
            "default": "New Splunk app that does interesting things"
        }
    ],
    "hierarchy": {
        "type": "folder",
        "name": "security_content",
        "target_name": "APP_NAME",
        "description": "Root folder of application",
        "required": true,
        "mode": "create",
        "children": [
            {
                "type": "folder",
                "name": "baselines",
                "description": "Baselines to include in your app",
                "required": false,
                "mode": "copy",
                "children": [
                    {
                        "type": "folder",
                        "name": "deprecated",
                        "description": "Deprecated baselines",
                        "required": false,
                        "mode": "copy",
                        "children": []
                    }
                ]
            },
            {
                "type": "folder",
                "name": "dashboards",
                "description": "Dashboards to include in your app",
                "required": false,
                "mode": "copy",
                "children": []
            },
            {
                "type": "folder",
                "name": "deployments",
                "description": "Deployments",
                "required": false,
                "mode": "copy",
                "children": []
            },
            {
                "type": "folder",
                "name": "detections",
                "description": "Root for all of the descriptions",
                "required": false,
                "mode": "copy",
                "children": [
                    {
                        "type": "folder",
                        "name": "application",
                        "description": "Folder containing detections focused on a specific application",
                        "required": false,
                        "mode": "copy",
                        "children": []
                    },
                    {
                        "type": "folder",
                        "name": "cloud",
                        "description": "Folder containing detections focused on a cloud environment",
                        "mode": "copy",
                        "required": false,
                        "children": []
                    },
                    {
                        "type": "folder",
                        "name": "deprecated",
                        "description": "Folder containing deprecated detections",
                        "mode": "copy",
                        "required": false,
                        "children": []
                    },
                    {
                        "type": "folder",
                        "name": "endpoint",
                        "description": "Folder containing endpoint detections",
                        "mode": "copy",
                        "required": false,
                        "children": []
                    },
                    {
                        "type": "folder",
                        "name": "experimental",
                        "description": "Folder contain experimental detections",
                        "mode": "copy",
                        "required": false,
                        "children": [
                            {
                                "type": "folder",
                                "name": "application",
                                "description": "Folder containing detections focused on a specific application",
                                "required": false,
                                "mode": "copy",
                                "children": []
                            },
                            {
                                "type": "folder",
                                "name": "cloud",
                                "description": "Folder containing detections focused on cloud",
                                "required": false,
                                "mode": "copy",
                                "children": []
                            },
                            {
                                "type": "folder",
                                "name": "endpoint",
                                "description": "Folder containing detections focused on an endpoint",
                                "required": false,
                                "mode": "copy",
                                "children": []
                            },
                            {
                                "type": "folder",
                                "name": "network",
                                "description": "Folder containing detections focused on a network",
                                "required": false,
                                "mode": "copy",
                                "children": []
                            },
                            {
                                "type": "folder",
                                "name": "web",
                                "description": "Folder containing detections focused on web",
                                "required": false,
                                "mode": "copy",
                                "children": []
                            }
                        ]
                    },
                    {
                        "type": "folder",
                        "name": "network",
                        "description": "Folder containing network detections",
                        "mode": "copy",
                        "required": false,
                        "children": []
                    },
                    {
                        "type": "folder",
                        "name": "web",
                        "description": "Folder containing web detections",
                        "mode": "copy",
                        "required": false,
                        "children": []
                    }
                ]
            },
            {
                "type": "folder",
                "name": "dist",
                "description": "Folder for building apps for release",
                "mode": "create",
                "required": true,
                "children": [
                    {
                        "type": "folder",
                        "name": "escu",
                        "target_name": "APP_NAME",
                        "description": "Folder containg the ESCU template app",
                        "mode": "copy",
                        "required": true,
                        "children": [
                            {
                                "type": "template",
                                "name": "app.manifest.j2",
                                "description": "Required App Manifest File",
                                "mode": "create",
                                "required": true,
                                "children": []
                            },
                            {
                                "type": "folder",
                                "name": "default",
                                "description": "Folder containg the app.conf and content-version.conf files which must be customized",
                                "mode": "create",
                                "required": true,
                                "children": [
                                    {
                                        "type": "template",
                                        "name": "app.conf.j2",
                                        "description": "Required App Conf File",
                                        "mode": "create",
                                        "required": true,
                                        "children": []
                                    },
                                    {
                                        "type": "template",
                                        "name": "content-version.conf.j2",
                                        "description": "Required Content-Version Conf File",
                                        "mode": "create",
                                        "required": true,
                                        "children": []
                                    },
                                    {
                                        "type": "template",
                                        "name": "distsearch.conf.j2",
                                        "description": "Required distsearch File",
                                        "mode": "create",
                                        "required": true,
                                        "children": []
                                    },
                                    {
                                        "type": "template",
                                        "name": "usage_searches.conf.j2",
                                        "description": "Required usage_searches File",
                                        "mode": "create",
                                        "required": true,
                                        "children": []
                                    },
                                    {
                                        "type": "folder",
                                        "name": "data",
                                        "description": "Folder containing Data such as UI Elements",
                                        "mode": "create",
                                        "required": true,
                                        "children": [
                                            {
                                                "type": "folder",
                                                "name": "ui",
                                                "description": "Folder containing UI Elements",
                                                "mode": "create",
                                                "required": true,
                                                "children": [
                                                    {
                                                        "type": "folder",
                                                        "name": "views",
                                                        "description": "Folder containing UI Views",
                                                        "mode": "create",
                                                        "required": true,
                                                        "children": [
                                                            {
                                                                "type": "template",
                                                                "name": "escu_summary.xml.j2",
                                                                "description": "Main landing page view for app",
                                                                "mode": "create",
                                                                "required": true,
                                                                "children": []
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "type": "folder",
                "name": "docs",
                "description": "Folder for generating and storing documentation",
                "mode": "copy",
                "required": false,
                "children": []
            },
            {
                "type": "folder",
                "name": "investigations",
                "description": "Folder for storing investigations",
                "mode": "copy",
                "required": false,
                "children": []
            },
            {
                "type": "folder",
                "name": "lookups",
                "description": "Folder for storing lookups",
                "mode": "copy",
                "required": false,
                "children": []
            },
            {
                "type": "folder",
                "name": "macros",
                "description": "Folder for storing macros",
                "mode": "copy",
                "required": false,
                "children": []
            },
            {
                "type": "folder",
                "name": "playbooks",
                "description": "Folder for storing playbooks",
                "mode": "copy",
                "required": false,
                "children": [
                    {
                        "type": "folder",
                        "name": "custom_functions",
                        "description": "Folder for storing custom functions written for Playbooks",
                        "mode": "copy",
                        "required": false,
                        "children": []
                    }
                ]
            },
            {
                "type": "folder",
                "name": "spec",
                "description": "Folder for storing Spec Files",
                "mode": "copy",
                "required": true,
                "children": []
            },
            {
                "type": "folder",
                "name": "stories",
                "description": "Folder for storing Stories",
                "mode": "copy",
                "required": false,
                "children": [
                    {
                        "type": "folder",
                        "name": "deprecated",
                        "description": "Folder for storing deprecated Stories",
                        "mode": "copy",
                        "required": false,
                        "children": []
                    }
                ]
            },
            {
                "type": "folder",
                "name": "tests",
                "description": "Root for all of the tests",
                "required": false,
                "mode": "copy",
                "children": [
                    {
                        "type": "folder",
                        "name": "application",
                        "description": "Folder containing tests focused on a specific application",
                        "required": false,
                        "mode": "copy",
                        "children": []
                    },
                    {
                        "type": "folder",
                        "name": "cloud",
                        "description": "Folder containing tests focused on a cloud environment",
                        "mode": "copy",
                        "required": false,
                        "children": []
                    },
                    {
                        "type": "folder",
                        "name": "endpoint",
                        "description": "Folder containing endpoint tests",
                        "mode": "copy",
                        "required": false,
                        "children": []
                    },
                    {
                        "type": "folder",
                        "name": "experimental",
                        "description": "Folder contain experimental tests",
                        "mode": "copy",
                        "required": false,
                        "children": [
                            {
                                "type": "folder",
                                "name": "cloud",
                                "description": "Folder containing tests focused on a cloud environment",
                                "mode": "copy",
                                "required": false,
                                "children": []
                            },
                            {
                                "type": "folder",
                                "name": "endpoint",
                                "description": "Folder containing tests focused on a endpoint environment",
                                "mode": "copy",
                                "required": false,
                                "children": []
                            },
                            {
                                "type": "folder",
                                "name": "network",
                                "description": "Folder containing tests focused on a network environment",
                                "mode": "copy",
                                "required": false,
                                "children": []
                            }
                        ]
                    },
                    {
                        "type": "folder",
                        "name": "network",
                        "description": "Folder containing network tests",
                        "mode": "copy",
                        "required": false,
                        "children": []
                    },
                    {
                        "type": "folder",
                        "name": "web",
                        "description": "Folder containing web detections",
                        "mode": "copy",
                        "required": false,
                        "children": []
                    }
                ]
            },
            {
                "type": "folder",
                "name": "workbooks",
                "description": "Write Description",
                "mode": "copy",
                "required": false,
                "children": []
            }
        ]
    }
}